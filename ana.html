<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Film Öneri - NU, KSUNAL, KDRMTL</title>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="app/css/app.css">
    <link rel="stylesheet" type="text/css" href="node_modules/materialize-css/dist/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


    <!-- JS -->
    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js" onload="window.$ = window.jQuery = module.exports; window.Hammer = require('./node_modules/hammerjs/hammer.min.js');"></script>
    <script type="text/javascript" src="node_modules/materialize-css/dist/js/materialize.min.js"></script>
    <script type="text/javascript" src="build/common.js"></script>
    <script type="text/javascript" src="build/app.js"></script>
</head>

<body class="blue-grey darken-4">
    <div class="row" id="icerik">

        <!-- Tüm Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-4 z-depth-5" id="tumFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">Tüm Filmler</span>
                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-tum" class="autocomplete">
                                <label for="autocomplete-tum">Film/Yönetmen/Oyuncu Ara</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="card horizontal blue-grey darken-3 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- İzlenen Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-3 z-depth-5" id="izlenenFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">İzlenen Filmler</span>
                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-izlenen" class="autocomplete">
                                <label for="autocomplete-izlenen">Film Ara</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="card horizontal blue-grey darken-2 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/100/130/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <hr>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Önerilen Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-2 z-depth-5" id="onerilenFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">Önerilen Filmler</span>
                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-onerilen" class="autocomplete">
                                <label for="autocomplete-onerilen">Film Ara</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-1 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-1 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <script>
        $(document).ready(() => {
            Materialize.updateTextFields();
        });

        function dbOlustur(){
            var fs = require("fs");
            var SQL = require("sql.js");
            var db = new SQL.Database();
            db.run("CREATE TABLE IF NOT EXISTS Filmler (ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\
                                                        FilmAdi TEXT NOT NULL,\
                                                        Yonetmen TEXT NOT NULL,\
                                                        Senarist TEXT NOT NULL,\
                                                        Oyuncu TEXT NOT NULL,\
                                                        Tur TEXT NOT NULL,\
                                                        IMDBPuani REAL NOT NULL,\
                                                        Aciklama TEXT NOT NULL,\
                                                        AfisURL TEXT NOT NULL);");

            db.run("CREATE TABLE IF NOT EXISTS IzlenenFilmler (ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\
                                                               FilmID INTEGER NOT NULL,\
                                                               FOREIGN KEY(`FilmID`) REFERENCES `Filmler`(`ID`));");

            // veritabanını dosyaya kaydet.
            let data = db.export();
            let buffer = new Buffer(data);
            fs.writeFileSync("./app/data/db.sqlite", buffer);
        }
    </script>
</body>

</html>