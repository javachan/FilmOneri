<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Film Öneri - NU, KSUNAL, KDRMTL</title>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="app/css/app.css">
    <link rel="stylesheet" type="text/css" href="node_modules/materialize-css/dist/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


    <!-- JS -->
    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js" onload="window.$ = window.jQuery = module.exports; window.Hammer = require('./node_modules/hammerjs/hammer.min.js');"></script>
    <script type="text/javascript" src="node_modules/materialize-css/dist/js/materialize.min.js"></script>
    <script type="text/javascript" src="build/common.js"></script>
    <script type="text/javascript" src="build/app.js"></script>
</head>

<body class="blue-grey darken-4">
    <div class="row" id="icerik">
        <!-- Tüm Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-4 z-depth-5" id="tumFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">Tüm Filmler</span>

                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-tum" class="autocomplete">
                                <label for="autocomplete-tum">Film/Yönetmen/Oyuncu Ara</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-3 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-3 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-3 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- İzlenen Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-3 z-depth-5" id="izlenenFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">İzlenen Filmler</span>

                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-izlenen" class="autocomplete">
                                <label for="autocomplete-izlenen">Film Ara</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-2 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/100/130/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <hr>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-2 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/100/130/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <hr>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-2 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/100/130/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <hr>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-2 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/100/130/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <hr>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Önerilen Filmler -->
        <div class="col s12 m12 l4">
            <div class="card blue-grey darken-2 z-depth-5" id="onerilenFilmler">
                <div class="card-content white-text">
                    <span class="card-title center-align">Önerilen Filmler</span>
                    <div class="row">
                        <div class="col s12">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">textsms</i>
                                <input type="text" id="autocomplete-onerilen" class="autocomplete">
                                <label for="autocomplete-onerilen">Film Ara</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-1 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-1 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="card horizontal blue-grey darken-1 z-depth-4">
                            <div class="card-image">
                                <img src="http://lorempixel.com/125/175/nature/6">
                            </div>
                            <div class="card-stacked">
                                <div class="card-content">
                                    <p><a href="#" id="filmAdi">Film Adı</a></p>
                                    <p>Oyuncular</p>
                                    <p>Yönetmen</p>
                                </div>
                                <div class="card-action">
                                    <a href="#">İZLEDİM</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Menü -->
        <div class="row" id="menu">
            <div class="fixed-action-btn horizontal">
                <a class="btn-floating btn-large red">
                    <i class="large material-icons">menu</i>
                </a>
                <ul>
                    <li>
                        <a class="btn-floating blue">
                            <i class="material-icons">insert_chart</i>
                        </a>
                    </li>
                    <li>
                        <a class="btn-floating green modal-trigger" href="#veriEkleModal">
                            <i class="material-icons">add</i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- veriEkleModal -->
        <div id="veriEkleModal" class="modal modal-fixed-footer">
            <div class="modal-content">
                <h4>Film Ekle</h4>

                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s12 m12 l6">
                            <select multiple id="filmTurleri">
                                <option value="" disabled selected>Türleri Seçin</option>
                                <option value="Aksiyon">Aksiyon</option>
                                <option value="Komedi">Komedi</option>
                                <option value="Aile">Aile</option>
                                <option value="Tarih">Tarih</option>
                                <option value="Gizem">Gizem</option>
                                <option value="Bilim-Kurgu">Bilim-Kurgu</option>
                                <option value="Savaş">Savaş</option>
                                <option value="Macera">Macera</option>
                                <option value="Suç">Suç</option>
                                <option value="Fantastik">Fantastik</option>
                                <option value="Korku">Korku</option>
                                <option value="Spor">Spor</option>
                                <option value="Kovboy">Kovboy</option>
                                <option value="Animasyon">Animasyon</option>
                                <option value="Belgesel">Belgesel</option>
                                <option value="Müzikal">Müzikal</option>
                                <option value="Romantik">Romantik</option>
                                <option value="Gerilim">Gerilim</option>
                            </select>
                            <label>Filmin Türü</label>
                        </div>
                        <div class="input-field col s12 m12 l6">
                            <input id="filmAdi" type="text" class="validate" length="50">
                            <label for="filmAdi">Filmin Adı</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12 m12 l8">
                            <textarea id="filmAciklamasi" type="text" class="materialize-textarea" length="250"></textarea>
                            <label for="filmAciklamasi">Filmin Konusu</label>
                        </div>
                        <div class="input-field col s12 m12 l2">
                            <input id="filmYili" type="text" class="validate" length="4">
                            <label for="filmYili">Çıkış Yılı</label>
                        </div>
                        <div class="input-field col s12 m12 l2">
                            <input id="filmPuani" type="text" class="validate" length="3">
                            <label for="filmPuani">IMDB Puanı</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12 m12 l4">
                            <textarea id="filmYonetmenleri" type="text" class="materialize-textarea" length="250"></textarea>
                            <label for="filmYonetmenleri">Filmin Yönetmen(ler)i</label>
                        </div>
                        <div class="input-field col s12 m12 l4">
                            <textarea id="filmSenaristleri" type="text" class="materialize-textarea" length="250"></textarea>
                            <label for="filmSenaristleri">Filmin Senarist(ler)i</label>
                        </div>
                        <div class="input-field col s12 m12 l4">
                            <textarea id="filmOyunculari" type="text" class="materialize-textarea" length="250"></textarea>
                            <label for="filmOyunculari">Filmin Oyuncu(lar)ı</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <input id="filmAfisUrl" type="text" class="validate">
                            <label for="filmAfisUrl">Film Afiş Linki</label>
                        </div>
                    </div>
                    <div class="row">
                        <p class="flow-text"><strong>NOT:</strong> Filmin Yönetmen(ler)i, Senarist(ler)i, Oyuncu(lar)ı alanlarına kişileri virgül
                            ile ayırarak giriş yapın.</p>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-light btn purple darken-1">EKLE</a>
            </div>
        </div>

    </div>

    <script>
        $(document).ready(() => {
            $(".modal").modal();
            $("select").material_select();
            Materialize.updateTextFields();
        });

        function dbOlustur(){
            var fs = require("fs");
            var SQL = require("sql.js");
            var db = new SQL.Database();
            db.run("CREATE TABLE IF NOT EXISTS Filmler (ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\
                                                        FilmAdi TEXT NOT NULL,\
                                                        Yonetmen TEXT NOT NULL,\
                                                        Senarist TEXT NOT NULL,\
                                                        Oyuncu TEXT NOT NULL,\
                                                        Tur TEXT NOT NULL,\
                                                        IMDBPuani REAL NOT NULL,\
                                                        Aciklama TEXT NOT NULL,\
                                                        AfisURL TEXT NOT NULL);");

            db.run("CREATE TABLE IF NOT EXISTS IzlenenFilmler (ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\
                                                               FilmID INTEGER NOT NULL,\
                                                               FOREIGN KEY(`FilmID`) REFERENCES `Filmler`(`ID`));");

            // veritabanını dosyaya kaydet.
            let data = db.export();
            let buffer = new Buffer(data);
            fs.writeFileSync("./app/data/db.sqlite", buffer);
        }
    </script>
</body>

</html>